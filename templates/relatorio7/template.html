{% extends "base/layout.html" %}

{% block styles %}
<style>
    {% include "relatorio7/style.css" %}
</style>
{% endblock %}

{% block content %}
<div class="relatorio-header">
    <h1>Indicadores Operacionais</h1>
    <p>Visão geral dos principais indicadores de desempenho</p>
</div>

<!-- Indicadores Financeiros -->
<h2>Indicadores Financeiros</h2>
<div class="indicadores-grid">
    {% for indicador in indicadores_financeiros %}
    <div class="indicador-valor">
        <div class="indicador-nome">{{ indicador.nome }}</div>
        <div class="{% if indicador.valor > 0 %}valor-positivo{% elif indicador.valor < 0 %}valor-negativo{% else %}valor-neutral{% endif %}">
            {% if "%" in indicador.nome %}
                {{ indicador.valor|format_percentage }}
            {% else %}
                {{ indicador.valor|format_currency }}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

<!-- Indicadores de Vendas -->
<h2>Indicadores de Vendas</h2>
<div class="indicadores-grid">
    {% for indicador in indicadores_vendas %}
    <div class="indicador-valor">
        <div class="indicador-nome">{{ indicador.nome }}</div>
        <div class="{% if indicador.valor > 0 %}valor-positivo{% elif indicador.valor < 0 %}valor-negativo{% else %}valor-neutral{% endif %}">
            {% if "%" in indicador.nome %}
                {{ indicador.valor|format_percentage }}
            {% elif "Assessor" in indicador.nome %}
                {{ indicador.valor|format_currency }}
            {% elif "Crescimento" in indicador.nome %}
                {{ indicador.valor|format_percentage }}
            {% else %}
                {{ indicador.valor|format_number }}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

<!-- Indicadores de Clientes -->
<h2>Indicadores de Clientes</h2>
<div class="indicadores-grid">
    {% for indicador in indicadores_clientes %}
    <div class="indicador-valor">
        <div class="indicador-nome">{{ indicador.nome }}</div>
        <div class="valor-neutral">
            {% if "Ticket" in indicador.nome %}
                {{ indicador.valor|format_currency }}
            {% elif "Quantidade" in indicador.nome %}
                {{ indicador.valor|format_number(0) }}
            {% else %}
                {{ indicador.valor|format_number }}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

<!-- Outros Indicadores -->
{% if indicadores_outros %}
<h2>Outros Indicadores</h2>
<div class="indicadores-grid">
    {% for indicador in indicadores_outros %}
    <div class="indicador-valor">
        <div class="indicador-nome">{{ indicador.nome }}</div>
        <div class="{% if indicador.valor > 0 %}valor-positivo{% elif indicador.valor < 0 %}valor-negativo{% else %}valor-neutral{% endif %}">
            {% if "PE" in indicador.nome or "Ponto de Equilíbrio" in indicador.nome %}
                {{ indicador.valor|format_currency }}
            {% elif "%" in indicador.nome %}
                {{ indicador.valor|format_percentage }}
            {% else %}
                {{ indicador.valor|format_number }}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

<div class="page-break"></div>
{% endblock %}